@model AMS.Models.UserMasterModel
@{
    Layout = "_LoginLayout";
    ViewData["Title"] = "Login";
}
<div class="auth-page-wrapper d-flex main-background justify-content-center align-items-center">
    <!-- auth-page content -->

    <div class="container">
        <input type="checkbox" id="flip">
        <div class="cover">
            <div class="front">
                <img src="~/Lib/images/frontImg.jpg" alt="">
                <div class="text">
                    <span class="text-1" style=" margin-right:250px !important;  margin-top:-150px !important;">
                        <a href="@Url.Action("Index", "Dashboard")" class="d-block"> 
                              <img src="~/Lib/images/AMS2.png" alt="" style="height:120px; width:240px;">  
                        </a>
                    </span>
                </div>
            </div>
            <div class="back">
                @* <img class="backImg" src="images/backImg.jpg" alt=""> *@
            </div>
        </div>
        <div class="forms">
            <div class="form-content">
                <div class="login-form">
                </div>
                <div class="signup-form">
                    <div class="title">Welcome Back!</div>
                    <p class="para">Sign in to continue to AMS.</p>

                    <!--Form Login-->
                    <form id="loginform" class="row g-3 needs-validation" asp-controller="Account" asp-action="Login" autocomplete="off" method="post" onsubmit="return ams.auth.EncryptPwd()" novalidate>
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="input-boxes">
                            <div class="input-box" for="username">
                                <i class="fas fa-envelope"></i>
                                <input type="text" asp-for="Username" id="txtUsername" placeholder="Enter username" required>
                                <div class="invalid-feedback">
                                    Please Enter Email
                                </div>
                            </div>
                            <div class="input-box" for="password-input">
                                <i class="fas fa-lock"></i>
                                <input type="hidden" class="form-control pe-5 password-input" asp-for="Userpassword" placeholder="Enter password" id="password-input2">
                                 <input type="password" required placeholder="Enter password" id="password-input"> 
                            </div>

                            <div class="float-end">
                                 <a href="@Url.Action("ForgotPassword", "Account")" class="text-muted">Forget password?</a> 
                            </div>

                            <div class="d-flex" style="margin-top:45px;">
                                <div class="input-box">
                                    @* <i class="fas fa-sync-alt" id="inputGroupPrepend3" onclick="SnjCrm.Auth.RefreshCaptcha()"></i> *@
                                    @* <input type="text" style="width:250px;" placeholder="Capcha" onkeypress="return SnjCrm.Common.isNumber(event)" type="text" asp-for="CaptchaCode" aria-describedby="inputGroupPrepend3" id="txtCaptcha" required autocomplete="off"> *@
                                    <div class="invalid-feedback" id="invalidCapcha">
                                        Invalid Capcha Code,
                                    </div>
                                    <div class="valid-feedback" id="validCapcha">
                                        ok!
                                    </div>
                                </div>
                                <div style="margin-left:10px; margin-top:15px;">
                                    @* <img src="@Model.CaptchaImage" alt="" class="imgCaptcha" height="50" aria-describedby="inputGroupPrepend4" /> *@
                                </div>
                            </div>
                            <div class="button input-box">
                                <input value="Sign In" id="signInBtnId" type="submit">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- footer -->
    <footer class="footer">
        <div class="">
            <div class="row">
                <div class="col-lg-12 p-4">
                    <div class="text-center" style="margin-top: -20px;">
                        <p class="mb-0 text-white text-bold">&copy; <script>document.write(new Date().getFullYear())</script> AMS.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end Footer -->
</div>

@section Scripts {
          <script>
        window.ams = window.ams || {};
        ams.auth = ams.auth || {};

        ams.auth.EncryptPwd = function () {
            const visiblePass = document.getElementById("password-input");
            const hiddenPass = document.getElementById("password-input2");

            console.log("EncryptPwd called");
            // console.log("Visible password:", visiblePass?.value);

            if (visiblePass && hiddenPass) {
                hiddenPass.value = visiblePass.value; // 👈 Value copy yahan ho rahi hai
                // console.log("Hidden password set:", hiddenPass.value);
                return true;
            }

            console.log("Failed to find inputs");
            return false;
        };
    </script>

}
 @* @section scripts{
    <script src="~/Lib/js/pages/password-addon.init.js"></script>
} *@
    @* <script src="~/Lib/js/pages/password-addon.init.js"></script> *@
